#### Настройка БД STKH
```cmd
В БД Выполнить запросы для БД STKH из папки \sql_queries

После выполнения запросов в БД STKH должны быть созданы:

sap_offline - таблица с данными об активности сотрудников

sap_users - таблица для связи id сотрудника из STKH с user_name из SAP

sap_offline_update - хранимая процедура для обновления таблицы sap_offline

Создать имя входа с проверкой подлинности SQL Server по паролю

Создать пользователя БД STKH для созданного имени входа

Для созданного пользователя в свойствах БД STKH настроить разрешения на вставку, выборку и выполнение, соединение, удаление

Использовать данные имени входа для настройки файла переменных окружения
```
#### Установка NVM
 [NVM 1.2.2 для Windows](https://www.nvmnode.com/ru/guide/download.html)
```cmd
# Скачать установщик
# Установить nvm-setup.exe
# Проверить установку:
nvm -v
```
#### Установка Node.js
```cmd
# Установить Node.js версии 20.19.4
nvm install 20.19.4

# Использовать установленную версию
nvm use 20.19.4

# Проверить версии Node.js и npm
node -v
npm -v
```
#### Клонирование проекта
[Репозиторий](https://github.com/7cout/stkh-api.git)
```cmd
# Клонировать или скачать и распоковать репозиторий
git clone https://github.com/7cout/stkh-api.git
```
#### Установка зависимостей
```cmd
# В корне проекта
npm install
```
#### Настройка конфигурационных файлов
```
# Примеры конфигурационных файлов в папке \config\examples

# Создать файл окружения .env на основе примера env.example, поместить в корень проекта

# Создать файл с данными аутентификации passwords.bin на основе примера passwords.bin.example, поместить в \config

# Создать файл schedules.json с расписанием запуска задач для планировщика на основе примера schedules.json.example поместить в \config

# Отредактировать файлы с помощью любого текстового редактора
```
#### Настройка автозапуска с PM2
```cmd
# Установить PM2 глобально
npm install -g pm2
npm install -g pm2-windows-startup
pm2-startup install

# Запустить приложение через PM2
pm2 start src/app.js --name "stkh-api"

# Сохранить конфигурацию PM2
pm2 save

# Создать скрипт автозапуска для Windows
pm2 startup

# Следуйте инструкциям, которые появятся в терминале
# Обычно требуется выполнить дополнительную команду, которую предложит pm2 startup
```
#### Команды для управления
```cmd
# Просмотр списка приложений
pm2 list

# Просмотр статуса приложений
pm2 status

# Просмотр логов
pm2 logs stkh-api

# Перезапуск приложения
pm2 restart stkh-api --update-env

# Остановка приложения
pm2 stop stkh-api

# Удаление из списка PM2
pm2 delete stkh-api
```